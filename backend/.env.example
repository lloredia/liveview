# Live View - Environment Configuration
# Copy to .env and fill in your values
#
# The app reads settings with the LV_ prefix (e.g. LV_DATABASE_URL, LV_SPORTRADAR_API_KEY).
# Some legacy names (DATABASE_URL, SPORTRADAR_API_KEY) are also supported as fallbacks.

# ── PostgreSQL ─────────────────────────────────────────
# When running seed/scripts locally against Railway Postgres, set LV_DATABASE_URL to your
# Railway Postgres URL (Railway dashboard → your project → Variables or Connect → "Postgres").
# Must use asyncpg driver: postgresql+asyncpg://user:pass@host:port/dbname
# LV_DATABASE_URL=postgresql+asyncpg://postgres:xxx@containers-us-west-xx.railway.app:5432/railway
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=liveview
POSTGRES_USER=liveview
POSTGRES_PASSWORD=liveview_dev_password

# ── Redis ──────────────────────────────────────────────
REDIS_URL=redis://localhost:6379/0

# ── Provider API Keys ──────────────────────────────────
# ESPN (free, no key required — used by the 30s live refresh and schedule sync)
ESPN_BASE_URL=https://site.api.espn.com/apis/site/v2/sports

# Sportradar (requires API key — https://developer.sportradar.com)
# Used by the ingest service for multi-sport scoreboard/events
LV_SPORTRADAR_API_KEY=
SPORTRADAR_BASE_URL=https://api.sportradar.us

# TheSportsDB (free tier key = "3"; used as fallback when ESPN fails)
LV_THESPORTSDB_API_KEY=3
THESPORTSDB_BASE_URL=https://www.thesportsdb.com/api/v1/json

# Football-Data.org (soccer lineup, player stats — free tier ~10 req/min)
LV_FOOTBALL_DATA_API_KEY=

# ── Feature Flags ─────────────────────────────────────
# Disable ESPN live refresh without redeploying (default: true)
LV_ESPN_LIVE_REFRESH_ENABLED=true
# Disable TheSportsDB fallback in the live refresh loop (default: true)
LV_LIVE_REFRESH_USE_FALLBACK=true

# ── API Service ────────────────────────────────────────
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=2

# ── Logging ────────────────────────────────────────────
LOG_LEVEL=info
LOG_FORMAT=json

# ── Rate Limits ────────────────────────────────────────
LV_ESPN_RPM_LIMIT=600
LV_SPORTRADAR_RPM_LIMIT=1000
LV_THESPORTSDB_RPM_LIMIT=300
LV_FOOTBALL_DATA_RPM_LIMIT=60
